{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useQuery } from \"react-query\";\nimport { courseService } from \"../../Modules/CourseModule/Course.service\";\nimport { notificationMsg } from \"../../Services/BaseService\";\nimport { errorMsg } from \"../../Services/MessageDisplayHandler\";\n\nconst CourseListHook = () => {\n  _s();\n\n  const parseAllCourses = data => {\n    let allCouresList = data.data;\n    allCouresList.forEach((student, i) => {\n      allCouresList[i] = {\n        id: allCouresList[i].id,\n        name: allCouresList[i].name,\n        average_mark: allCouresList[i].average_mark,\n        price: allCouresList[i].price\n      };\n    });\n    return allCouresList;\n  };\n\n  const fetchCourses = async () => {\n    const res = await courseService.fetchAllCourses();\n    return res;\n  };\n\n  return useQuery(\"allCourses\", fetchCourses, {\n    onError: err => {\n      errorMsg(notificationMsg(err, null));\n    },\n    onSettled: val => {\n      parseAllCourses(val);\n    }\n  });\n};\n\n_s(CourseListHook, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\n\n_c = CourseListHook;\nexport default CourseListHook;\n\nvar _c;\n\n$RefreshReg$(_c, \"CourseListHook\");","map":{"version":3,"names":["useQuery","courseService","notificationMsg","errorMsg","CourseListHook","parseAllCourses","data","allCouresList","forEach","student","i","id","name","average_mark","price","fetchCourses","res","fetchAllCourses","onError","err","onSettled","val"],"sources":["/Users/nebojsa/projects/MERN-academy/factory-academy-react-query-ts/src/Components/CustomHooks/CourseListHook.ts"],"sourcesContent":["import { useQuery } from \"react-query\";\nimport { courseService } from \"../../Modules/CourseModule/Course.service\";\nimport { notificationMsg } from \"../../Services/BaseService\";\nimport { errorMsg } from \"../../Services/MessageDisplayHandler\";\n\nconst CourseListHook = () => {\n\n  const parseAllCourses = (data: any) => {\n    let allCouresList = data.data;\n    allCouresList.forEach((student: {}, i: number) => {\n      allCouresList[i] = {\n        id: allCouresList[i].id,\n        name: allCouresList[i].name,\n        average_mark: allCouresList[i].average_mark,\n        price: allCouresList[i].price,\n      };\n    });\n    return allCouresList;\n  };\n\n  const fetchCourses = async () => {\n    const res = await courseService.fetchAllCourses();\n    return res;\n  };\n\n  return useQuery(\"allCourses\", fetchCourses, {\n    onError: (err: any) => {\n      errorMsg(notificationMsg(err, null));\n    },\n    onSettled: (val: any) => {\n      parseAllCourses(val);\n    },\n  });\n};\n\nexport default CourseListHook;\n"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,aAAzB;AACA,SAASC,aAAT,QAA8B,2CAA9B;AACA,SAASC,eAAT,QAAgC,4BAAhC;AACA,SAASC,QAAT,QAAyB,sCAAzB;;AAEA,MAAMC,cAAc,GAAG,MAAM;EAAA;;EAE3B,MAAMC,eAAe,GAAIC,IAAD,IAAe;IACrC,IAAIC,aAAa,GAAGD,IAAI,CAACA,IAAzB;IACAC,aAAa,CAACC,OAAd,CAAsB,CAACC,OAAD,EAAcC,CAAd,KAA4B;MAChDH,aAAa,CAACG,CAAD,CAAb,GAAmB;QACjBC,EAAE,EAAEJ,aAAa,CAACG,CAAD,CAAb,CAAiBC,EADJ;QAEjBC,IAAI,EAAEL,aAAa,CAACG,CAAD,CAAb,CAAiBE,IAFN;QAGjBC,YAAY,EAAEN,aAAa,CAACG,CAAD,CAAb,CAAiBG,YAHd;QAIjBC,KAAK,EAAEP,aAAa,CAACG,CAAD,CAAb,CAAiBI;MAJP,CAAnB;IAMD,CAPD;IAQA,OAAOP,aAAP;EACD,CAXD;;EAaA,MAAMQ,YAAY,GAAG,YAAY;IAC/B,MAAMC,GAAG,GAAG,MAAMf,aAAa,CAACgB,eAAd,EAAlB;IACA,OAAOD,GAAP;EACD,CAHD;;EAKA,OAAOhB,QAAQ,CAAC,YAAD,EAAee,YAAf,EAA6B;IAC1CG,OAAO,EAAGC,GAAD,IAAc;MACrBhB,QAAQ,CAACD,eAAe,CAACiB,GAAD,EAAM,IAAN,CAAhB,CAAR;IACD,CAHyC;IAI1CC,SAAS,EAAGC,GAAD,IAAc;MACvBhB,eAAe,CAACgB,GAAD,CAAf;IACD;EANyC,CAA7B,CAAf;AAQD,CA5BD;;GAAMjB,c;UAoBGJ,Q;;;KApBHI,c;AA8BN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}