{"ast":null,"code":"var _jsxFileName = \"/Users/nebojsa/projects/MERN-academy/factory-academy-react-query-ts/src/Pages/Shared/Profile.tsx\",\n    _s = $RefreshSig$();\n\nimport { useHistory } from \"react-router-dom\";\nimport { useQueryClient, useQuery } from \"react-query\";\nimport { personService } from \"../../Modules/PersonModule/Person.service\"; // COMPONENTS\n\nimport TeacherProfileComponent from \"../../Components/Teacher/TeacherProfileComponent\";\nimport StudentProfileComponent from \"../../Components/Student/StudentProfileComponent\";\nimport { errorMsg } from \"../../Services/MessageDisplayHandler\";\nimport { notificationMsg } from \"../../Services/BaseService\"; // END :: COMPONENTS\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst initLoad = async fullPath => {\n  let lastPart = fullPath.split(\"/\");\n  let id = lastPart[lastPart.length - 1];\n  const res = await personService.goProfile(id);\n  return res.data;\n};\n\nconst Profile = () => {\n  _s();\n\n  var _profileData$data, _profileData$data2, _profileData$data3, _profileData$data4;\n\n  const history = useHistory();\n  const loggedUser = useQueryClient().getQueryData('activeUser');\n  const profileData = useQuery('profile', () => initLoad(history.location.pathname), {\n    onError: err => {\n      errorMsg(notificationMsg(err, null));\n    },\n    onSettled: val => {}\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile flex flex-col w-full h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-start p-6 text-xl border-b\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Name: \", (_profileData$data = profileData.data) === null || _profileData$data === void 0 ? void 0 : _profileData$data.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Surname: \", (_profileData$data2 = profileData.data) === null || _profileData$data2 === void 0 ? void 0 : _profileData$data2.surname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Email: \", (_profileData$data3 = profileData.data) === null || _profileData$data3 === void 0 ? void 0 : _profileData$data3.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Role: \", (_profileData$data4 = profileData.data) === null || _profileData$data4 === void 0 ? void 0 : _profileData$data4.role]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col h-full\",\n      children: loggedUser.role === 'teacher' ? /*#__PURE__*/_jsxDEV(TeacherProfileComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 50\n      }, this) : /*#__PURE__*/_jsxDEV(StudentProfileComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 80\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Profile, \"mzux4fP+XP40NYsBuc8+zTyRkyI=\", false, function () {\n  return [useHistory, useQueryClient, useQuery];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["useHistory","useQueryClient","useQuery","personService","TeacherProfileComponent","StudentProfileComponent","errorMsg","notificationMsg","initLoad","fullPath","lastPart","split","id","length","res","goProfile","data","Profile","history","loggedUser","getQueryData","profileData","location","pathname","onError","err","onSettled","val","name","surname","email","role"],"sources":["/Users/nebojsa/projects/MERN-academy/factory-academy-react-query-ts/src/Pages/Shared/Profile.tsx"],"sourcesContent":["import { FC } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useQueryClient, useQuery } from \"react-query\";\nimport { personService } from \"../../Modules/PersonModule/Person.service\";\n// COMPONENTS\nimport TeacherProfileComponent from \"../../Components/Teacher/TeacherProfileComponent\";\nimport StudentProfileComponent from \"../../Components/Student/StudentProfileComponent\";\nimport { errorMsg } from \"../../Services/MessageDisplayHandler\";\nimport { notificationMsg } from \"../../Services/BaseService\";\n// END :: COMPONENTS\n\nconst initLoad = async (fullPath: string) => {\n    let lastPart = fullPath.split(\"/\");\n    let id = lastPart[lastPart.length - 1];\n    const res = await personService.goProfile(id);\n    return res.data;\n}\n\nconst Profile: FC = () => {\n\n    const history = useHistory();\n    const loggedUser: any = useQueryClient().getQueryData('activeUser');\n\n    const profileData = useQuery('profile', () => initLoad(history.location.pathname), {\n        onError: (err) => {\n            errorMsg(notificationMsg(err, null));\n        },\n        onSettled: (val: any) => {\n        }\n    })\n\n    return (\n        <div className=\"profile flex flex-col w-full h-full\">\n            <div className=\"flex flex-col items-start p-6 text-xl border-b\">\n                <span>Name: {profileData.data?.name}</span>\n                <span>Surname: {profileData.data?.surname}</span>\n                <span>Email: {profileData.data?.email}</span>\n                <span>Role: {profileData.data?.role}</span>\n            </div>\n            <div className=\"flex flex-col h-full\">\n                {loggedUser.role === 'teacher' ? <TeacherProfileComponent /> : <StudentProfileComponent />}\n            </div>\n        </div>\n    );\n}\n\nexport default Profile;"],"mappings":";;;AACA,SAASA,UAAT,QAA2B,kBAA3B;AACA,SAASC,cAAT,EAAyBC,QAAzB,QAAyC,aAAzC;AACA,SAASC,aAAT,QAA8B,2CAA9B,C,CACA;;AACA,OAAOC,uBAAP,MAAoC,kDAApC;AACA,OAAOC,uBAAP,MAAoC,kDAApC;AACA,SAASC,QAAT,QAAyB,sCAAzB;AACA,SAASC,eAAT,QAAgC,4BAAhC,C,CACA;;;;AAEA,MAAMC,QAAQ,GAAG,MAAOC,QAAP,IAA4B;EACzC,IAAIC,QAAQ,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,CAAf;EACA,IAAIC,EAAE,GAAGF,QAAQ,CAACA,QAAQ,CAACG,MAAT,GAAkB,CAAnB,CAAjB;EACA,MAAMC,GAAG,GAAG,MAAMX,aAAa,CAACY,SAAd,CAAwBH,EAAxB,CAAlB;EACA,OAAOE,GAAG,CAACE,IAAX;AACH,CALD;;AAOA,MAAMC,OAAW,GAAG,MAAM;EAAA;;EAAA;;EAEtB,MAAMC,OAAO,GAAGlB,UAAU,EAA1B;EACA,MAAMmB,UAAe,GAAGlB,cAAc,GAAGmB,YAAjB,CAA8B,YAA9B,CAAxB;EAEA,MAAMC,WAAW,GAAGnB,QAAQ,CAAC,SAAD,EAAY,MAAMM,QAAQ,CAACU,OAAO,CAACI,QAAR,CAAiBC,QAAlB,CAA1B,EAAuD;IAC/EC,OAAO,EAAGC,GAAD,IAAS;MACdnB,QAAQ,CAACC,eAAe,CAACkB,GAAD,EAAM,IAAN,CAAhB,CAAR;IACH,CAH8E;IAI/EC,SAAS,EAAGC,GAAD,IAAc,CACxB;EAL8E,CAAvD,CAA5B;EAQA,oBACI;IAAK,SAAS,EAAC,qCAAf;IAAA,wBACI;MAAK,SAAS,EAAC,gDAAf;MAAA,wBACI;QAAA,0CAAaN,WAAW,CAACL,IAAzB,sDAAa,kBAAkBY,IAA/B;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAA,8CAAgBP,WAAW,CAACL,IAA5B,uDAAgB,mBAAkBa,OAAlC;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI;QAAA,4CAAcR,WAAW,CAACL,IAA1B,uDAAc,mBAAkBc,KAAhC;MAAA;QAAA;QAAA;QAAA;MAAA,QAHJ,eAII;QAAA,2CAAaT,WAAW,CAACL,IAAzB,uDAAa,mBAAkBe,IAA/B;MAAA;QAAA;QAAA;QAAA;MAAA,QAJJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAOI;MAAK,SAAS,EAAC,sBAAf;MAAA,UACKZ,UAAU,CAACY,IAAX,KAAoB,SAApB,gBAAgC,QAAC,uBAAD;QAAA;QAAA;QAAA;MAAA,QAAhC,gBAA8D,QAAC,uBAAD;QAAA;QAAA;QAAA;MAAA;IADnE;MAAA;MAAA;MAAA;IAAA,QAPJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAaH,CA1BD;;GAAMd,O;UAEcjB,U,EACQC,c,EAEJC,Q;;;KALlBe,O;AA4BN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}