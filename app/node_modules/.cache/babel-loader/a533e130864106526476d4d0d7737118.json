{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useQuery, useQueryClient } from \"react-query\";\nimport { personService } from \"../../Modules/PersonModule/Person.service\";\nimport { notificationMsg } from \"../../Services/BaseService\";\nimport { errorMsg } from \"../../Services/MessageDisplayHandler\";\n\nconst StudentCompletedCoursesHook = () => {\n  _s();\n\n  const loggedUser = useQueryClient().getQueryData(\"activeUser\");\n\n  const parseCompletedCourses = data => {\n    let completedCourses = data.data;\n    completedCourses.forEach((course, i) => {\n      completedCourses[i] = {\n        course_id: completedCourses[i].course.id,\n        course_name: completedCourses[i].course.name,\n        mark: completedCourses[i].mark\n      };\n    });\n    return completedCourses;\n  };\n\n  const fetchCompletedCourese = async () => {\n    let id = loggedUser.id;\n    const res = await personService.fetchCompletedCourses(id);\n    return res;\n  };\n\n  return useQuery(\"completedCourses\", fetchCompletedCourese, {\n    onError: err => {\n      errorMsg(notificationMsg(err, null));\n    },\n    onSettled: val => {\n      parseCompletedCourses(val);\n    }\n  });\n};\n\n_s(StudentCompletedCoursesHook, \"FbJocrnl8otF4BgWT4r2nF2NRc4=\", false, function () {\n  return [useQueryClient, useQuery];\n});\n\n_c = StudentCompletedCoursesHook;\nexport default StudentCompletedCoursesHook;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentCompletedCoursesHook\");","map":{"version":3,"names":["useQuery","useQueryClient","personService","notificationMsg","errorMsg","StudentCompletedCoursesHook","loggedUser","getQueryData","parseCompletedCourses","data","completedCourses","forEach","course","i","course_id","id","course_name","name","mark","fetchCompletedCourese","res","fetchCompletedCourses","onError","err","onSettled","val"],"sources":["/Users/nebojsa/projects/MERN-academy/app/src/Components/CustomHooks/StudentCompletedCoursesHook.ts"],"sourcesContent":["import { useQuery, useQueryClient } from \"react-query\";\nimport { personService } from \"../../Modules/PersonModule/Person.service\";\nimport { notificationMsg } from \"../../Services/BaseService\";\nimport { errorMsg } from \"../../Services/MessageDisplayHandler\";\n\nconst StudentCompletedCoursesHook = () => {\n  const loggedUser: any = useQueryClient().getQueryData(\"activeUser\");\n\n  const parseCompletedCourses = (data: any) => {\n    let completedCourses = data.data;\n    completedCourses.forEach((course: {}, i: number) => {\n      completedCourses[i] = {\n        course_id: completedCourses[i].course.id,\n        course_name: completedCourses[i].course.name,\n        mark: completedCourses[i].mark,\n      };\n    });\n    return completedCourses;\n  };\n\n  const fetchCompletedCourese = async () => {\n    let id = loggedUser.id;\n    const res = await personService.fetchCompletedCourses(id);\n    return res;\n  };\n\n  return useQuery(\"completedCourses\", fetchCompletedCourese, {\n    onError: (err: any) => {\n      errorMsg(notificationMsg(err, null));\n    },\n    onSettled: (val: any) => {\n      parseCompletedCourses(val);\n    },\n  });\n};\n\nexport default StudentCompletedCoursesHook;\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,cAAnB,QAAyC,aAAzC;AACA,SAASC,aAAT,QAA8B,2CAA9B;AACA,SAASC,eAAT,QAAgC,4BAAhC;AACA,SAASC,QAAT,QAAyB,sCAAzB;;AAEA,MAAMC,2BAA2B,GAAG,MAAM;EAAA;;EACxC,MAAMC,UAAe,GAAGL,cAAc,GAAGM,YAAjB,CAA8B,YAA9B,CAAxB;;EAEA,MAAMC,qBAAqB,GAAIC,IAAD,IAAe;IAC3C,IAAIC,gBAAgB,GAAGD,IAAI,CAACA,IAA5B;IACAC,gBAAgB,CAACC,OAAjB,CAAyB,CAACC,MAAD,EAAaC,CAAb,KAA2B;MAClDH,gBAAgB,CAACG,CAAD,CAAhB,GAAsB;QACpBC,SAAS,EAAEJ,gBAAgB,CAACG,CAAD,CAAhB,CAAoBD,MAApB,CAA2BG,EADlB;QAEpBC,WAAW,EAAEN,gBAAgB,CAACG,CAAD,CAAhB,CAAoBD,MAApB,CAA2BK,IAFpB;QAGpBC,IAAI,EAAER,gBAAgB,CAACG,CAAD,CAAhB,CAAoBK;MAHN,CAAtB;IAKD,CAND;IAOA,OAAOR,gBAAP;EACD,CAVD;;EAYA,MAAMS,qBAAqB,GAAG,YAAY;IACxC,IAAIJ,EAAE,GAAGT,UAAU,CAACS,EAApB;IACA,MAAMK,GAAG,GAAG,MAAMlB,aAAa,CAACmB,qBAAd,CAAoCN,EAApC,CAAlB;IACA,OAAOK,GAAP;EACD,CAJD;;EAMA,OAAOpB,QAAQ,CAAC,kBAAD,EAAqBmB,qBAArB,EAA4C;IACzDG,OAAO,EAAGC,GAAD,IAAc;MACrBnB,QAAQ,CAACD,eAAe,CAACoB,GAAD,EAAM,IAAN,CAAhB,CAAR;IACD,CAHwD;IAIzDC,SAAS,EAAGC,GAAD,IAAc;MACvBjB,qBAAqB,CAACiB,GAAD,CAArB;IACD;EANwD,CAA5C,CAAf;AAQD,CA7BD;;GAAMpB,2B;UACoBJ,c,EAoBjBD,Q;;;KArBHK,2B;AA+BN,eAAeA,2BAAf"},"metadata":{},"sourceType":"module"}