{"ast":null,"code":"var _jsxFileName = \"/Users/nebojsa/projects/MERN-academy/factory-academy-react-query-ts/src/Components/Student/SingleCourseStudentComponent.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useMutation } from \"react-query\";\nimport { courseService } from \"../../Modules/CourseModule/Course.service\";\nimport { notificationMsg } from \"../../Services/BaseService\";\nimport { successMsg, errorMsg } from \"../../Services/MessageDisplayHandler\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SingleCourseStudentComponent = _ref => {\n  _s();\n\n  let {\n    data\n  } = _ref;\n  const [form, setForm] = useState({\n    id: data.id,\n    comment: \"\"\n  });\n\n  const commentHandler = event => {\n    setForm({ ...form,\n      comment: event.target.value\n    });\n  };\n\n  const studentSingleCourseMutation = useMutation(() => courseService.buyCourse(form), {\n    onError: err => {\n      errorMsg(notificationMsg(err, null));\n    },\n    onSettled: val => {\n      successMsg(notificationMsg(val, \"COURSE_BOUGHT\"));\n    }\n  });\n\n  const buyCourse = () => {\n    studentSingleCourseMutation.mutate();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"single-course-component flex flex-col text-xl w-full\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"felx flex-col justify-between px-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex py-10\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          \"v-model\": \"form.comment\",\n          value: form.comment,\n          onChange: commentHandler,\n          className: \"border resize-none w-full rounded p-3\",\n          placeholder: \"Message for professor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"button bg-darkGreen\",\n          onClick: buyCourse,\n          children: \"BUY\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SingleCourseStudentComponent, \"SBxoffPBBjcptK5m+zQM15k2zsA=\", false, function () {\n  return [useMutation];\n});\n\n_c = SingleCourseStudentComponent;\nexport default SingleCourseStudentComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"SingleCourseStudentComponent\");","map":{"version":3,"names":["useState","useMutation","courseService","notificationMsg","successMsg","errorMsg","SingleCourseStudentComponent","data","form","setForm","id","comment","commentHandler","event","target","value","studentSingleCourseMutation","buyCourse","onError","err","onSettled","val","mutate"],"sources":["/Users/nebojsa/projects/MERN-academy/factory-academy-react-query-ts/src/Components/Student/SingleCourseStudentComponent.tsx"],"sourcesContent":["import { FC, useState } from \"react\";\nimport { useMutation } from \"react-query\";\nimport { courseService } from \"../../Modules/CourseModule/Course.service\";\nimport { notificationMsg } from \"../../Services/BaseService\";\nimport { successMsg, errorMsg } from \"../../Services/MessageDisplayHandler\";\nimport { ISingleCourse } from \"../../Services/Interfaces\";\n\nconst SingleCourseStudentComponent: FC<{ data: ISingleCourse }> = ({\n  data,\n}) => {\n  const [form, setForm] = useState({\n    id: data.id,\n    comment: \"\",\n  });\n\n  const commentHandler = (\n    event:\n      | React.ChangeEvent<HTMLTextAreaElement>\n      | React.ChangeEvent<HTMLInputElement>\n  ) => {\n    setForm({\n      ...form,\n      comment: event.target.value,\n    });\n  };\n\n  const studentSingleCourseMutation = useMutation(\n    () => courseService.buyCourse(form),\n    {\n      onError: (err: any) => {\n        errorMsg(notificationMsg(err, null));\n      },\n      onSettled: (val: any) => {\n        successMsg(notificationMsg(val, \"COURSE_BOUGHT\"));\n      },\n    }\n  );\n\n  const buyCourse = () => {\n    studentSingleCourseMutation.mutate();\n  };\n\n  return (\n    <div className=\"single-course-component flex flex-col text-xl w-full\">\n      <div className=\"felx flex-col justify-between px-6\">\n        <div className=\"flex py-10\">\n          <textarea\n            v-model=\"form.comment\"\n            value={form.comment}\n            onChange={commentHandler}\n            className=\"border resize-none w-full rounded p-3\"\n            placeholder=\"Message for professor\"\n          />\n        </div>\n        <div className=\"flex\">\n          <span className=\"button bg-darkGreen\" onClick={buyCourse}>\n            BUY\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SingleCourseStudentComponent;\n"],"mappings":";;;AAAA,SAAaA,QAAb,QAA6B,OAA7B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,aAAT,QAA8B,2CAA9B;AACA,SAASC,eAAT,QAAgC,4BAAhC;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,sCAArC;;;AAGA,MAAMC,4BAAyD,GAAG,QAE5D;EAAA;;EAAA,IAF6D;IACjEC;EADiE,CAE7D;EACJ,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC;IAC/BU,EAAE,EAAEH,IAAI,CAACG,EADsB;IAE/BC,OAAO,EAAE;EAFsB,CAAD,CAAhC;;EAKA,MAAMC,cAAc,GAClBC,KADqB,IAIlB;IACHJ,OAAO,CAAC,EACN,GAAGD,IADG;MAENG,OAAO,EAAEE,KAAK,CAACC,MAAN,CAAaC;IAFhB,CAAD,CAAP;EAID,CATD;;EAWA,MAAMC,2BAA2B,GAAGf,WAAW,CAC7C,MAAMC,aAAa,CAACe,SAAd,CAAwBT,IAAxB,CADuC,EAE7C;IACEU,OAAO,EAAGC,GAAD,IAAc;MACrBd,QAAQ,CAACF,eAAe,CAACgB,GAAD,EAAM,IAAN,CAAhB,CAAR;IACD,CAHH;IAIEC,SAAS,EAAGC,GAAD,IAAc;MACvBjB,UAAU,CAACD,eAAe,CAACkB,GAAD,EAAM,eAAN,CAAhB,CAAV;IACD;EANH,CAF6C,CAA/C;;EAYA,MAAMJ,SAAS,GAAG,MAAM;IACtBD,2BAA2B,CAACM,MAA5B;EACD,CAFD;;EAIA,oBACE;IAAK,SAAS,EAAC,sDAAf;IAAA,uBACE;MAAK,SAAS,EAAC,oCAAf;MAAA,wBACE;QAAK,SAAS,EAAC,YAAf;QAAA,uBACE;UACE,WAAQ,cADV;UAEE,KAAK,EAAEd,IAAI,CAACG,OAFd;UAGE,QAAQ,EAAEC,cAHZ;UAIE,SAAS,EAAC,uCAJZ;UAKE,WAAW,EAAC;QALd;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAUE;QAAK,SAAS,EAAC,MAAf;QAAA,uBACE;UAAM,SAAS,EAAC,qBAAhB;UAAsC,OAAO,EAAEK,SAA/C;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAVF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAoBD,CAvDD;;GAAMX,4B;UAmBgCL,W;;;KAnBhCK,4B;AAyDN,eAAeA,4BAAf"},"metadata":{},"sourceType":"module"}