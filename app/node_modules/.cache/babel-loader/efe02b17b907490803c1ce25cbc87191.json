{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useContext } from \"react\";\nimport { useQuery, useQueryClient } from \"react-query\";\nimport { AppContext } from \"../../Context/AppProvider\";\nimport { ActionTypes } from \"../../Context/Reducers/App/AppProvider.types\";\nimport { errorMsg } from \"../../Services/MessageDisplayHandler\";\nimport { notificationMsg } from \"../../Services/BaseService\";\nimport { personService } from \"../../Modules/PersonModule/Person.service\";\n\nconst NotRatedHook = () => {\n  _s();\n\n  // eslint-disable-next-line\n  const [contextState, dispatch] = useContext(AppContext);\n  const loggedUser = useQueryClient().getQueryData(\"activeUser\");\n\n  const fetchNotRated = async () => {\n    const res = await personService.fetchNotRatedCourses(loggedUser.id);\n    return res;\n  };\n\n  return useQuery(\"notRated\", fetchNotRated, {\n    onError: err => {\n      errorMsg(notificationMsg(err, null));\n    },\n    onSettled: val => {\n      if (Object.keys(val.data).length > 0) {\n        dispatch({\n          type: ActionTypes.SET_MODAL,\n          payload: {\n            name: \"rate-course\",\n            status: true,\n            data: val.data\n          }\n        });\n      }\n    }\n  });\n};\n\n_s(NotRatedHook, \"TIeot91xdP4MupGWBZFbEdg0W4Q=\", false, function () {\n  return [useQueryClient, useQuery];\n});\n\n_c = NotRatedHook;\nexport default NotRatedHook;\n\nvar _c;\n\n$RefreshReg$(_c, \"NotRatedHook\");","map":{"version":3,"names":["useContext","useQuery","useQueryClient","AppContext","ActionTypes","errorMsg","notificationMsg","personService","NotRatedHook","contextState","dispatch","loggedUser","getQueryData","fetchNotRated","res","fetchNotRatedCourses","id","onError","err","onSettled","val","Object","keys","data","length","type","SET_MODAL","payload","name","status"],"sources":["/Users/nebojsa/projects/MERN-academy/app/src/Components/CustomHooks/NotRatedHook.ts"],"sourcesContent":["import { useContext } from \"react\";\nimport { useQuery, useQueryClient } from \"react-query\";\nimport { AppContext } from \"../../Context/AppProvider\";\nimport { ActionTypes } from \"../../Context/Reducers/App/AppProvider.types\";\nimport { errorMsg } from \"../../Services/MessageDisplayHandler\";\nimport { notificationMsg } from \"../../Services/BaseService\";\nimport { personService } from \"../../Modules/PersonModule/Person.service\";\n\nconst NotRatedHook = () => {\n  // eslint-disable-next-line\n  const [contextState, dispatch] = useContext(AppContext);\n  const loggedUser: any = useQueryClient().getQueryData(\"activeUser\");\n\n  const fetchNotRated = async () => {\n    const res = await personService.fetchNotRatedCourses(\n      loggedUser.id\n    );\n    return res;\n  };\n\n  return useQuery(\"notRated\", fetchNotRated, {\n    onError: (err: any) => {\n      errorMsg(notificationMsg(err, null));\n    },\n    onSettled: (val: any) => {\n      if (Object.keys(val.data).length > 0) {\n        dispatch({\n          type: ActionTypes.SET_MODAL,\n          payload: {\n            name: \"rate-course\",\n            status: true,\n            data: val.data,\n          },\n        });\n      }\n    },\n  });\n};\n\nexport default NotRatedHook;\n"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,QAAT,EAAmBC,cAAnB,QAAyC,aAAzC;AACA,SAASC,UAAT,QAA2B,2BAA3B;AACA,SAASC,WAAT,QAA4B,8CAA5B;AACA,SAASC,QAAT,QAAyB,sCAAzB;AACA,SAASC,eAAT,QAAgC,4BAAhC;AACA,SAASC,aAAT,QAA8B,2CAA9B;;AAEA,MAAMC,YAAY,GAAG,MAAM;EAAA;;EACzB;EACA,MAAM,CAACC,YAAD,EAAeC,QAAf,IAA2BV,UAAU,CAACG,UAAD,CAA3C;EACA,MAAMQ,UAAe,GAAGT,cAAc,GAAGU,YAAjB,CAA8B,YAA9B,CAAxB;;EAEA,MAAMC,aAAa,GAAG,YAAY;IAChC,MAAMC,GAAG,GAAG,MAAMP,aAAa,CAACQ,oBAAd,CAChBJ,UAAU,CAACK,EADK,CAAlB;IAGA,OAAOF,GAAP;EACD,CALD;;EAOA,OAAOb,QAAQ,CAAC,UAAD,EAAaY,aAAb,EAA4B;IACzCI,OAAO,EAAGC,GAAD,IAAc;MACrBb,QAAQ,CAACC,eAAe,CAACY,GAAD,EAAM,IAAN,CAAhB,CAAR;IACD,CAHwC;IAIzCC,SAAS,EAAGC,GAAD,IAAc;MACvB,IAAIC,MAAM,CAACC,IAAP,CAAYF,GAAG,CAACG,IAAhB,EAAsBC,MAAtB,GAA+B,CAAnC,EAAsC;QACpCd,QAAQ,CAAC;UACPe,IAAI,EAAErB,WAAW,CAACsB,SADX;UAEPC,OAAO,EAAE;YACPC,IAAI,EAAE,aADC;YAEPC,MAAM,EAAE,IAFD;YAGPN,IAAI,EAAEH,GAAG,CAACG;UAHH;QAFF,CAAD,CAAR;MAQD;IACF;EAfwC,CAA5B,CAAf;AAiBD,CA7BD;;GAAMf,Y;UAGoBN,c,EASjBD,Q;;;KAZHO,Y;AA+BN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}